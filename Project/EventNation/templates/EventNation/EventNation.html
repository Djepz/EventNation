<!DOCTYPE html>
<html>
{% load static %}
{% load index %}
<head>
    <title>EventNation</title>
    {% block css %}
    <link rel="stylesheet" type="text/css" href="{% static "EventNation/slideshow.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static 'EventNation/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'EventNation/rating.css' %}">
    {% endblock %}
</head>
{% block nav %}
<body style="background-color: white;">

    <center>
        <h1><a style="color: black" href="{% url 'EventNation:home' %}">EventNation</a></h1>
    </center>
    <nav style="background-color: black; height:50px; position: absolute; left: 0px; right: 0px;">
        <h4 style="color: white; position: absolute; left: 50px; font-size: large; margin-top: 15px;"> <a style="color: white" href="{% url 'EventNation:about' %}">
            About
        </a></h4>
        <h4 style="color: white; position: absolute; left: 150px; font-size: large; margin-top: 15px;"> <a style="color: white" href="{% url 'EventNation:TopRated' %}">
            Top Rated
        </a></h4>
        {% if not request.user.is_authenticated %}
        <h4 style="color: white; position: absolute; right: 150px; font-size: large; margin-top: 15px;"> <a style="color: white" href="{% url 'EventNation:login' %}">
            Login
        </a></h4>
        <h4 style="background-color:white; color:black; position: absolute; margin-top: 15px; right: 40px; font-size: large">
            <a style="color: black" href="{% url 'EventNation:CreateUser' %}">Register</a></h4>
    {% else %}
    <h4 style="color: white; position: absolute; right: 150px; font-size: large; margin-top: 15px;"> <a style="color: white" href="{% url 'EventNation:profile' %}">
            {{ request.user.username }}
        </a></h4>
        <h4 style="background-color:white; color:black; position: absolute; margin-top: 15px; right: 40px; font-size: large">
            <a style="color: black" href="{% url 'EventNation:logout' %}">Log out</a></h4>
    {% endif %}
    </nav>
    {% endblock %}
{% block content %}
    <div>
        <div class="slideshow-container">
            {% for event in nextEvents %}

            <div class="mySlides fade">
                <img class="img-dimension" src="{% get_static_prefix %}media/{{ event.name }}{{ event.id }}.png" style="width:100%">
            </div>
        {% endfor %}
        </div>
        <br>

        <script>
            let slideIndex = 0;
            showSlides();

            function showSlides() {
                let i;
                let slides = document.getElementsByClassName("mySlides");
                let dots = document.getElementsByClassName("dot");
                for (i = 0; i < slides.length; i++) {
                    slides[i].style.display = "none";
                }
                slideIndex++;
                if (slideIndex > slides.length) { slideIndex = 1 }
                slides[slideIndex - 1].style.display = "block";
                setTimeout(showSlides, 2000); // Change image every 2 seconds
            }
        </script>

        <div class="div" style="margin-top: 10px; margin-left: 10px; margin-right: 10px;">
            <div class="div-category" style="top:530px;">

                <nav class="nav-category">
                    <a style="color: white; position: relative; top: 10px; left: 10px; font-size: large;"
                        href="{% url 'EventNation:category' 'festival' %}">Festival</a>
                    <a style="color: white; position: absolute; top: 10px; right: 10px; font-size: large"
                        href="{% url 'EventNation:category' 'festival' %}">Ver
                        mais +</a>
                </nav>

                <div class="container">
                    {% for fest in festival %}
                    <div class="box-1">
                    <a href="{% url 'EventNation:eventPage' fest.id %}">
                        <img style="display: block; margin-left: auto; margin-right: auto; max-height: 260px; max-width: 460px; height:auto; width: auto" src="{% get_static_prefix %}media/{{ fest.name }}{{ fest.id }}.png" alt="" /></a>

                       <p style="text-align: center; color:white">{{ fest.name }}</p>
                        <p style="text-align: center; color: white">Data: {{ fest.date }}</p>
                        <p style="color: white; text-align: center;"> Rating: {{ fest.avg_rating|floatformat:1 }} </p>
                    </div>
                    {% endfor %}

                    <div class="box-1" style="background-color: gray;">
                        <h2 style="text-align: center;">Top Rated</h2>
                        <ul style="position: relative; left: 20px;">
                           {% for rating in festivalRating %}
                               <a href="{% url 'EventNation:eventPage' rating.id %}">
                                   <li style="font-size: Large; margin-top: 20px;">{{ rating }}</li></a>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>

            <div class="div-category" style="top:990px;">
                <nav class="nav-category">
                    <a style="color: white; position: relative; top: 10px; left: 10px; font-size: large;"
                        href="{% url 'EventNation:category' 'comedia' %}">Com√©dia</a>
                    <a style="color: white; position: absolute; top: 10px; right: 10px; font-size: large"
                        href="{% url 'EventNation:category' 'comedia' %}">Ver
                        mais +</a>
                </nav>

                <div class="container">
                    {% for com in comedia %}
                    <div class="box-1">
                    <a href="{% url 'EventNation:eventPage' com.id %}">
                        <img style="display: block; margin-left: auto; margin-right: auto; max-height: 260px; max-width: 460px; height:auto; width: auto" src="{% get_static_prefix %}media/{{ com.name }}{{ com.id }}.png" alt="" /></a>
                         <p style="text-align: center; color:white">{{ com.name }}</p>
                        <p style="text-align: center; color: white">Data: {{ com.date }}</p>
                        <p style="color: white; text-align: center;"> Rating: {{ com.avg_rating|floatformat:1 }} </p>
                    </div>
                    {% endfor %}

                    <div class="box-1" style="background-color: gray;">
                        <h2 style="text-align: center;">Top Rated</h2>
                        <ul style="position: relative; left: 20px;">
                            {% for rating in comediaRating %}
                                <a href="{% url 'EventNation:eventPage' rating.id %}">
                                    <li style="font-size: Large; margin-top: 20px;">{{ rating }}</li></a>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>

            <div class="div-category" style="top:1450px;">
                <nav class="nav-category">
                    <a style="color: white; position: relative; top: 10px; left: 10px; font-size: large;"
                        href="{% url 'EventNation:category' 'concerto' %}">Concerto</a>
                    <a style="color: white; position: absolute; top: 10px; right: 10px; font-size: large"
                        href="{% url 'EventNation:category' 'concerto' %}">Ver
                        mais +</a>
                </nav>
                <div class="container">
                    {% for conc in concerto %}
                    <div class="box-1">
                    <a href="{% url 'EventNation:eventPage' conc.id %}">
                        <img style="display: block; margin-left: auto; margin-right: auto; max-height: 260px; max-width: 460px; height:auto; width: auto" src="{% get_static_prefix %}media/{{ conc.name }}{{ conc.id }}.png" alt="" /></a>
                         <p style="text-align: center; color:white">{{ conc.name }}</p>
                        <p style="text-align: center; color: white">Data: {{ conc.date }}</p>
                        <p style="color: white; text-align: center;"> Rating: {{ conc.avg_rating|floatformat:1 }} </p>
                    </div>
                {% endfor %}

                    <div class="box-1" style="background-color: gray;">
                        <h2 style="text-align: center;">Top Rated</h2>
                        <ul style="position: relative; left: 20px;">
                            {% for rating in concertoRating %}
                                <a href="{% url 'EventNation:eventPage' rating.id %}">
                                    <li style="font-size: Large; margin-top: 20px;">{{ rating }}</li></a>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

</body>

</html>